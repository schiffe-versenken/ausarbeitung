% This is LLNCS.DEM the demonstration file of
% the LaTeX macro package from Springer-Verlag
\documentclass[a4paper,12pt]{llncs}
%
\usepackage{makeidx}  % allows for indexgeneration
\makeindex

\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}      % Code-Page latin 1
\usepackage[T1]{fontenc}
% Nur eine der beiden folgenden Zeilen einbinden!
% siehe Abschnitt Bilder
%\usepackage{graphicx}       % Bilder einbinden, Version fuer normales latex
\usepackage[pdftex]{graphicx}       % Bilder einbinden, Version fuer pdflatex

% mit Hyperrefs
\usepackage[pdftex, plainpages=false,hypertexnames=true,pdfnewwindow=true,backref=true,colorlinks=true,citecolor=blue,linkcolor=black,urlcolor=blue,filecolor=blue]{hyperref}% 
% weitere Packages
\usepackage{ifthen}                 % Zum Auskommentieren von Textteilen
\usepackage{amssymb}                % Mathematische Buchstaben
\usepackage{amsmath}                % Verbesserter Formelsatz
\usepackage[vlined,boxed]{algorithm2e}
\usepackage{booktabs}               % schönere Tabellen
\usepackage{color}
\usepackage{hyperref}
 \hypersetup{urlcolor=black,citecolor=black}
%\setalcapskip{1.5ex} % fuer package algorithm
\usepackage{dsfont}  
%\newtheorem{definition}{Definition}
\usepackage{doc}

% Seitenformat ===============================================================
\hoffset=-1.25truecm
\setlength{\topmargin}{0.0cm}
\setlength{\textheight}{23.0cm}
\setlength{\footskip}{1.5cm}
\setlength{\textwidth}{15.4cm}
\setlength{\evensidemargin}{1.5cm}
\setlength{\oddsidemargin}{1.5cm}
\setlength{\parskip}{1ex}
\setlength{\parindent}{0pt}
\setlength{\marginparwidth}{1.4cm}
\setlength{\marginparsep}{1mm}

\pagestyle{plain}

% Makro-Definitionen ==========================================================
% Zahlenbereiche -------------------------------------------------------------
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\R}{{\mathbb{R}}}
\newcommand{\C}{{\mathbb{C}}}
\newcommand{\Z}{{\mathbb{Z}}}
\newcommand{\Q}{{\mathbb{Q}}}

% 
\def\myverzeichnis{.}

\numberwithin{equation}{section} 
% Bild -----------------------------------------------------------------------
% #1 Filename;  #2 Label;  #3 Bildunterschrift;  #4 Kurzform
\newcommand{\bild}[4]{
  \begin{figure}[htbp]
    \begin{center}
      \includegraphics{#1}
      \caption[#4]{#3}
      \label{#2}
    \end{center}
  \end{figure}
}

% Bildbreite -----------------------------------------------------------------
% #1 Filename;  #2 Breite;  #3 Label;  #4 Bildunterschrift;  #5 Kurzform
\newcommand{\bildbreite}[5]{
  \begin{figure}[htbp]
    \begin{center}
      \includegraphics[width=#2]{#1}
      \caption[#5]{#4}
      \label{#3}
    \end{center}
  \end{figure}
}

\newtheorem{satz}{Satz}


% ============================================================================
\begin{document}

% =========== Das war der Vorspann, jetzt geht's los! ========================

% ============================================================================
% =============  AB HIER DARF UND SOLL GETIPPT WERDEN ========================
% ============================================================================

\author{Viel Schreiber}
\index{Viel Schreiber}

% Das Institut wird fuer den Betreuer missbraucht ...
\institute{{\bf Betreuer:} Dipl.-Inf. Carl Coder}
\authorrunning{Viel Schreiber}
\title{Meine Seminarausarbeitung}

\maketitle

\thispagestyle{empty}

\begin{abstract}
Ein schöner Abstract. Das ist einfach die Kurzzusammenfassung.
\end{abstract}

% Einleitung -----------------------------------------------------------------
\section{Spielbeschreibung}
Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.

\section{Optimale Schüsse berechnen}

\subsection{Definitionen}
\begin{definition}
Sei $C_{all}=\{1, \dots, N\}^d$ die Menge aller Zellen (cells) des Spielfeldes mit jeweils $N$ Zellen in $d$ Dimensionen.
\end{definition}

\begin{definition}
Sei $l$ eine mögliche Schiffsposition (location), welche mithilfe einer minimalen Ecke $c_{min}(l)$ und einer maximalen Ecke $c_{max}(l)$ bestimmt wird. Dann ist
\[
c(l)=
\{
c
\in
C
\mid
c_{min}(l) \leq c \leq c_{max}(l)
\}
\]
die Menge aller Zellen, welche sich innerhalb der möglichen Schiffsposition $l$ befinden.
\end{definition}

\begin{definition}
Sei 
\[
L_{all}=
\{
\{
k
\in
C_{all}
\mid
i \leq k \leq j
\}
\mid
i,j \in C_{all}
\wedge
i \leq j
\}
\] die Menge aller möglichen Schiffspositionen.
\end{definition}

\begin{definition}
Sei $m$ die Anzahl der platzierten Schiffe.
\end{definition}

\begin{definition}
$all\_distributions=\{L \subseteq L_{all} \mid |L|=m\}$ ist die Menge von allen möglichen Schiffsverteilungen.
\end{definition}

\begin{definition}
Sei $L_a \in all\_distributions$ die eigentliche und geheime Schiffsverteilung.
\end{definition}

\begin{definition}
Sei $F_t=\{(c_1, h_1), \dots , (c_t, h_t)\}$ der Zustand nach $t$ Schüssen.
\end{definition}

\begin{definition}
Sei $C_{shot,F}$ die Menge an Zellen, auf die bereits geschossen wurde.
\end{definition}

\begin{definition}
Sei $C_{left,F}=C_{all} \setminus C_{shot,F}$ die Menge an Zellen, auf die noch nicht geschossen wurde.
\end{definition}

\begin{definition}
Sei
\[
D_F=\{l \in L_a \mid c(l) \subseteq C_{shot,F}\}
\]
die Menge an Schiffen, welche durch die Schüsse auf die Zellen $C_{shot,F}$ bereits versenkt wurden.
\end{definition}

\begin{definition}
Sei $H_F(c)$ die Anzahl an Treffern von einem bereits abgefeuerten Schuss auf Zelle $c$, wobei die bereits versenkten Schiffe aus $D_F$ abgezogen wurden.
\end{definition}

\subsection{Teilungsfunktionen}

\begin{satz}
Seien $C_{pos}$ die Zellen, die belegt werden sollen. Seien $C_{neg}$ die Zellen, die nicht belegt werden sollen.

Dann ist
%Sei positive\_min(d)=min(\{c_d \mid c \in C_{pos}\})
%Sei positive\_max(d)=max(\{c_d \mid c \in C_{pos}\})
%Sei b_{min}(d)=negative\_min\_border(d)=max(\{c_d \mid c \in C_{neg} \wedge c_d < positive\_min(d)\}, 1)
%Sei b_{max}(d)=negative\_max\_border(d)=min(\{c_d \mid c \in C_{neg} \wedge c_d > positive\_max(d)\}, D)\\
\[
location\_count_F(C_{pos}, C_{neg})=TODO (Dennis?)
\]
\end{satz}

\begin{definition}
Sei $cell\_combinations_F=\mathcal{P}(C_{shot,F})$.
\end{definition}

\begin{definition}
Sei $comb \in cell\_combinations_F$. Dann ist
\[
location\_count_F(comb)=location\_count_F(comb, C_{shot,F} \setminus comb)
\]
eine Kurzform.
\end{definition}

\begin{definition}
Sei $comb \in cell\_combinations_F$. Dann ist
\[
max\_shared\_ship\_count_F(comb)=min(location\_count_F(comb), \{H_F(c) \mid c \in comb\})
\]
\end{definition}

\begin{definition}
Sei
\[
hit\_count_F(c, s)=\sum_{comb \in \{x \in cell\_combinations_F \mid c \in x\}}{s(comb)}
\]
\end{definition}

\begin{definition}
Sei
\begin{align}
\begin{split}
sha&re\_functions_F=\{s \colon cell\_combinations_F \rightarrow \N_0 \mid\\
&\forall{c \in C_{shot,F}}\colon hit\_count_F(c, s)=H_F(c) \wedge \\
&\forall{comb \in cell\_combinations_F} \colon 0 \leq s(comb) \leq max\_shared\_ship\_count_F(comb)\\
\}\;\;\;& \nonumber
\end{split}
\end{align}
die Menge an Share-Funktionen, die das LGS (...) lösen.
\end{definition}

\begin{satz}
Sei
\[
distribution\_count(s_F)=
\left( \prod_{comb \in cell\_combinations_F}{{location\_count_F(comb)\choose s_F(comb)}} \right)
\]
\end{satz}

\begin{proof}
Für jede Teilkombination $comb \in cell\_combinations_F$ gibt es $location\_count_F(comb)$ Positionen, die genau die Zellen der Teilkombination belegen. Aus diesen Positionen werden dann mit der Funktion $s_F$ genau $s_F(comb)$ Positionen für Schiffe ausgewählt. Daher gibt es für jede Teilkombination ${location\_count_F(comb)\choose s_F(comb)}$ verschiedene Schiffspositionen.

Die gesamte Anzahl an möglichen Schiffsverteilungen ergibt sich dann einfach aus der Multiplikation der Anzahl an Schiffspositionen der einzelnen Teilkombinationen.
\end{proof}

\begin{definition}
Sei
\[
distribution\_count(F)=\sum_{s_F \in valid\_share\_functions_F}{distribution\_count(s_F)}
\]
\end{definition}

\subsection{Teilungsfunktionen anwenden}

\begin{satz}
Sei $L \in distributions(F)$ eine mögliche Schiffsverteilung zum Zustand $F$.

Dann ist
\[
P(L = L_a \mid F)=\frac{1}{distribution\_count(F)}
\]
die Wahrscheinlichkeit, dass $L$ die richtige Schiffsverteilung ist.
\end{satz}

\begin{proof}
Strukturelle Induktion über $F$:\\
Induktionsanfang: $F=\emptyset$:\\
Zu Beginn herrscht eine Gleichverteilung, d.h. die Wahrscheinlichkeit, dass eine bestimmte Schiffsverteilung gewählt wird, ist für alle Schiffsverteilungen gleich:
\[
P(L = L_a \mid F)=P(L = L_a)=\frac{1}{|all\_distributions|}=\frac{1}{distribution\_count(F)}
\]
Induktionsschritt mit: $F'=F \cup (c,s)$:\\
\[
P(L = L_a \mid F)=\frac{1}{distributions(F)}=\frac{1}{distribution\_count(F)}
\]
\end{proof}

\begin{definition}
Sei $F$ der momentane Zustand.
Sei außerdem $c \in C_{left,F}$ die beschossene Zelle und $h \in \N_0$.
Dann ist
\[
distributions\_removed(F,c,h)=distribution\_count(F_t) - distribution\_count(F_t \cup \{(c, h)\})
\]
die Anzahl an Schiffsverteilungen, die nach diesem Schuss ausgeschlossen werden könnten, falls es genau $h$ Treffer gibt.
\end{definition}

\begin{definition}
Sei $F$ der momentane Zustand.
Sei außerdem $c \in C_{left,F}$ die beschossene Zelle.
Dann ist
\[
distributions\_removed(F,c)=distributions\_removed(F, c, hit(c))
\]
die Anzahl an Schiffsverteilungen, die nach diesem Schuss ausgeschlossen werden können.
\end{definition}

\begin{satz}
Sei $F$ der momentane Zustand.
Sei außerdem $c \in C_{left,F}$ die beschossene Zelle und $h \in \N_0$.
Dann ist
\[
P(hit(c)=h \mid F)=\frac{distribution\_count(F \cup \{(c, h)\})}{distribution\_count(F)}
\]
\end{satz}
die Wahrscheinlichkeit zu dem Zustand $F$, dass bei dem Schuss genau $h$ Schiffe getroffen werden.

\begin{proof}
Vor dem Schuss gibt es noch im Zustand $F$ genau $distribution\_count(F)$ mögliche Schiffsverteilungen.
Nach dem Schuss gibt es nur noch $distribution\_count(F \cup \{(c, h)\})$ mögliche Schiffsverteilungen.
Nach Satz () folgt ...
\end{proof}

\begin{theorem}
Sei $F$ der momentane Zustand.
Sei außerdem $c \in C_{left,{F_t}}$ die beschossene Zelle.
Dann ist
\[
\mathds{E}(distributions\_removed(F,c))=\sum_{h=0}^{m - |D_F|} P(hit(c)=h) * distributions\_removed(F,c,h)
\]
\end{theorem}


\begin{proof}
Definition des Erwartungswertes.
\end{proof}

\begin{definition}
Sei $F$ der momentane Zustand.
Dann ist
\[
c_{opt}(F)=\max_{c \in C_{left,F}} \mathds{E}(distributions\_removed(F,c))
\]
die Zelle, bei welcher bei Beschuss die Anzahl an erwarteten ausgeschlossenen Schiffsverteilungen maximal ist.
\end{definition}


% Literaturverzeichnis ------------------------------------------------
\newpage
\bibliographystyle{alphadinLinkLocal}
\bibliography{literatur} 

%\iffalse
\end{document}
%\fi
